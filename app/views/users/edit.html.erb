<% if cannot? :edit, @user %>
  <h1>Nutzer bearbeiten</h1>

    <div class="field">
      <%= f.label :email, 'Email-Adresse eingeben' %><br>
      <%= f.text_field :email %>
    </div>
   
    <!-- virtual field, that will hold the password before it is encrypted into the database -->
    <% if can? :edit, @user%>
       <div class="field">
         <%= f.label :password , 'Passwort wählen' %><br />
         <%= f.password_field :password %>
      </div>

      <div class="field">
         <%= f.label :password_confirmation, 'Passwort wiederholen'%><br />
         <%= f.password_field :password_confirmation %>
      </div>  
    <%end%>

    <% if can? :update, @user %>
       <div class="field">
         <%= f.label :role%> <%= f.collection_select(:role, User::ROLES, :to_s, lambda{|i| i.to_s.humanize}) %> 
       </div>
    <%end%>

    <div class="actions">
     <%= f.submit "Abschicken", class: "btn btn-success" %>  
    </div>
  <% end %>

  <%= link_to "Zurück", :back, class: "btn btn-default" %>

<% end %>
<!-- not authorized redirected root path-->
<% if cannot? :edit, @user %>
    <%= not_authorized("Keine Rechte um User Übersicht aufzurufen") %>
<% end %>